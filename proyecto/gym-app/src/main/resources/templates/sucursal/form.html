<!doctype html>
<html lang="es" xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layout :: layout(~{::content})}">
<div th:fragment="content">
  <div class="mb-4">
    <h1 class="h3 mb-1">Nueva sucursal</h1>
    <p class="text-muted mb-0">Definí la sede y asociála a una empresa existente.</p>
  </div>

  <div th:if="${error}" class="alert alert-danger" role="alert">
    <i class="bi bi-exclamation-triangle me-2"></i><span th:text="${error}"></span>
  </div>

  <form th:action="@{/admin/sucursales}" th:object="${form}" method="post" class="row g-3">
    <div class="col-md-6">
      <label class="form-label">Nombre</label>
      <input type="text" class="form-control" th:field="*{nombre}" required>
      <div class="invalid-feedback d-block" th:if="${#fields.hasErrors('nombre')}" th:errors="*{nombre}"></div>
    </div>

    <div class="col-md-6">
      <label class="form-label">Empresa</label>
      <select class="form-select" th:field="*{empresaId}" required>
        <option value="" disabled th:selected="${form.empresaId == null}">Seleccioná una empresa</option>
        <option th:each="empresa : ${empresas}" th:value="${empresa.id}" th:text="${empresa.nombre}"></option>
      </select>
      <div class="invalid-feedback d-block" th:if="${#fields.hasErrors('empresaId')}" th:errors="*{empresaId}"></div>
    </div>

    <div class="col-12 d-flex gap-2 mt-2">
      <button type="submit" class="btn btn-primary">Guardar</button>
      <a class="btn btn-secondary" th:href="@{/admin/sucursales}">Cancelar</a>
    </div>
  </form>
</div>
</html>
