<!DOCTYPE html><html xmlns:th="http://www.thymeleaf.org"><head>
<meta charset="UTF-8"><title>Enviar mensaje</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"></head>
<body class="container py-4">
  <h1 class="h5 mb-3">Enviar: <span th:text="${mensaje.titulo}"></span></h1>

  <div th:if="${mensaje.tipoMensaje != T(com.projects.gym.gym_app.domain.enums.TipoMensaje).INDIVIDUAL}">
    <form th:action="@{|/admin/mensajes/${mensaje.id}/enviar|}" th:object="${formMasivo}" method="post" class="row g-3">
      <div class="col-md-6">
        <label class="form-label">Alcance</label>
        <select class="form-select" th:field="*{alcance}">
          <option th:each="a : ${alcances}" th:value="${a}" th:text="${a}"></option>
        </select>
      </div>
      <div class="col-12">
        <button class="btn btn-success">Enviar a grupo</button>
        <a th:href="@{|/admin/mensajes/${mensaje.id}|}" class="btn btn-secondary">Volver</a>
      </div>
    </form>
  </div>

  <div th:if="${mensaje.tipoMensaje == T(com.projects.gym.gym_app.domain.enums.TipoMensaje).INDIVIDUAL}">
    <form th:action="@{|/admin/mensajes/${mensaje.id}/enviar|}" th:object="${form}" method="post" class="row g-3">
      <div class="col-md-6">
        <label class="form-label">Socio destino</label>
        <select class="form-select" th:field="*{socioId}">
          <option th:each="s : ${socios}" th:value="${s.id}" th:text="|${s.apellido}, ${s.nombre}|"></option>
        </select>
      </div>
      <div class="col-12">
        <button class="btn btn-success">Enviar</button>
        <a th:href="@{|/admin/mensajes/${mensaje.id}|}" class="btn btn-secondary">Volver</a>
      </div>
    </form>
  </div>
</body></html>
