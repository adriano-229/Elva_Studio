<!DOCTYPE html>
<html lang="es" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head>

  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <meta content="" name="description">
  <meta content="" name="author">

  <title>Tinder de Mascota - Registro</title>

  <!-- Bootstrap core CSS -->
  <link href="/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

  <!-- Custom fonts for this template -->
  <link href="https://fonts.googleapis.com/css?family=Catamaran:100,200,300,400,500,600,700,800,900" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Lato:100,100i,300,300i,400,400i,700,700i,900,900i"
        rel="stylesheet">

  <!-- Custom styles for this template -->
  <link href="/css/one-page-wonder.min.css" rel="stylesheet">

</head>

<body>

<!-- Navigation -->
<nav class="navbar navbar-expand-lg navbar-dark navbar-custom fixed-top">
  <div class="container">
    <a class="navbar-brand" th:href="@{/mascota/mis-mascotas}">Tinder de Mascota</a>
    <button aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler"
            data-target="#navbarResponsive" data-toggle="collapse" type="button">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarResponsive">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item">
          <a class="nav-link" th:href="@{/usuario/editar-perfil}">Perfil</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" th:href="@{/mascota/mis-mascotas}">Mascotas</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" th:href="@{/logout}">Logout</a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<header>
  <h1 style="margin-top:80px; text-align: center;">Editar Perfil</h1>
</header>

<section>
  <div class="container">
    <div class="row align-items-center">
      <div class="col-lg-6 order-lg-2">
        <div class="p-5">
          <img alt="" class="img-fluid rounded-circle" th:if="${perfil.foto != null}"
               th:src="${'/foto/usuario/' + perfil.id}">
          <img alt="" class="img-fluid rounded-circle" src="img/m1.jpeg" th:if="${perfil.foto == null}">

        </div>
      </div>
      <div class="col-lg-6 order-lg-1">
        <div class="p-5">
          <form action="/actualizar-perfil" enctype="multipart/form-data" method="POST">

            <p style="color:red;" th:if="${error != null}" th:text="${error}"></p>

            <input name="id" th:value="${perfil.id}" type="hidden"/>

            <label>Nombre</label>
            <input class="form-control" name="nombre" th:value="${perfil.nombre}" type="text"/>

            <label>Apellido</label>
            <input class="form-control" name="apellido" th:value="${perfil.apellido}" type="text"/>

            <label>Email</label>
            <input class="form-control" name="mail" th:value="${perfil.mail}" type="email"/>

            <label>Foto</label>
            <input class="form-control" name="archivo" th:value="${archivo}" type="file"/>

            <label>Zona</label>
            <select class="form-control" name="idZona">
              <option th:each="zona : ${zonas}" th:selected="${perfil.zona != null && zona.id == perfil.zona.id}" th:text="${zona.nombre}"
                      th:value="${zona.id}"></option>
            </select>


            <label>Clave</label>
            <input class="form-control" name="clave1" th:value="${clave1}" type="password"/>

            <label>Repetir Clave</label>
            <input class="form-control" name="clave2" th:value="${clave2}" type="password"/>

            <br/>
            <button class="btn btn-primary" type="submit">Actualizar Perfil</button>
          </form>
        </div>
      </div>
    </div>
  </div>
</section>


<!-- Footer -->
<footer class="py-5 bg-black">
  <div class="container">
    <p class="m-0 text-center text-white small">Copyright &copy; Your Website 2019</p>
  </div>
  <!-- /.container -->
</footer>

<!-- Bootstrap core JavaScript -->
<script src="/vendor/jquery/jquery.min.js"></script>
<script src="/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

</body>

</html>