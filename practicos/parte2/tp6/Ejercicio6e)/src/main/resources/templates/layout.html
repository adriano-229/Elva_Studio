<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
	  th:fragment="layout (content)"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <!--<title th:replace="${pageTitle} ?: 'Dashboard'">Dashboard</title>-->

	<!-- CSS -->
	<link th:href="@{/assets/css/bootstrap.min.css}" rel="stylesheet"/>
	<link th:href="@{/assets/css/animate.css}" rel="stylesheet"/>
	<link th:href="@{/assets/css/icons.css}" rel="stylesheet"/>
	<link th:href="@{/assets/css/sidebar-menu.css}" rel="stylesheet"/>
	<link th:href="@{/assets/css/app-style.css}" rel="stylesheet"/>

</head>
<body class="bg-theme bg-theme1">

<!-- Wrapper -->
<div id="wrapper">

    <!-- Sidebar -->
    <div id="sidebar-wrapper" data-simplebar="" data-simplebar-auto-hide="true">
        <div class="brand-logo">
            <a href="/" th:href="@{/}">
                <img src="/assets/images/logo-icon.png" class="logo-icon" alt="logo icon">
                <h5 class="logo-text">Tech Admin</h5>
            </a>
        </div>

        <ul class="sidebar-menu do-nicescrol">
            <li class="sidebar-header">MAIN NAVIGATION</li>
            <li>
                <a th:href="@{/}">
                    <i class="zmdi zmdi-view-dashboard"></i> <span>Dashboard</span>
                </a>
            </li>

            <!-- ADMIN -->
            <li sec:authorize="hasRole('ADMIN')">
                <a th:href="@{/empresas}">
                    <i class="zmdi zmdi-accounts"></i> <span>Empresas</span>
                </a>
            </li>
            <li sec:authorize="hasRole('ADMIN')">
                <a th:href="@{/personas}">
                    <i class="zmdi zmdi-accounts-list"></i> <span>Personas</span>
                </a>
            </li>

            <!-- USER -->
            <li sec:authorize="hasRole('USER')">
                <a th:href="@{/mi-perfil}">
                    <i class="zmdi zmdi-face"></i> <span>Mi Perfil</span>
                </a>
            </li>
            <li sec:authorize="hasRole('USER')">
                <a th:href="@{/contactos}">
                    <i class="zmdi zmdi-accounts"></i> <span>Contactos</span>
                </a>
            </li>
        </ul>
    </div>
    <!-- End Sidebar -->

    <!-- Topbar -->
    <header class="topbar-nav">
        <nav class="navbar navbar-expand fixed-top">
            <ul class="navbar-nav mr-auto align-items-center">
                <li class="nav-item">
                    <a class="nav-link toggle-menu" href="javascript:void();">
                        <i class="icon-menu menu-icon"></i>
                    </a>
                </li>
            </ul>

            <ul class="navbar-nav align-items-center right-nav-link">
                <li class="nav-item dropdown">
                    <!--<a class="nav-link dropdown-toggle dropdown-toggle-nocaret" data-toggle="dropdown" href="#">
                        <span class="user-profile">
                            <img th:src="@{${#authentication.principal.avatar} ?: '/assets/images/default-avatar.png'}"
                                 class="img-circle" alt="user avatar">
                        </span>
                    </a>-->
                    <ul class="dropdown-menu dropdown-menu-right">
                        <!--<li class="dropdown-item user-details">
                            <a href="#">
                                <div class="media">
                                    <div class="avatar">
                                        <img th:src="@{${#authentication.principal.avatar} ?: '/assets/images/default-avatar.png'}"
                                             class="align-self-start mr-3" alt="user avatar">
                                    </div>
                                    <div class="media-body">
                                        <h6 class="mt-2 user-title" th:text="${#authentication.name}">Username</h6>
                                        <p class="user-subtitle" th:text="${#authentication.principal.email}">email@example.com</p>
                                    </div>
                                </div>
                            </a>
                        </li>-->
                        <li class="dropdown-divider"></li>
                        <li class="dropdown-item">
                            <a th:href="@{/logout}"><i class="icon-power mr-2"></i>Logout</a>
                        </li>
                    </ul>
                </li>
            </ul>
        </nav>
    </header>
    <!-- End Topbar -->

	<!-- CONTENIDO (slot) -->
	<main class="col-lg-9 col-xl-10">
	  <div class="container py-3">
	    <th:block th:if="${content != null}" th:replace="${content}"></th:block>
	    <th:block th:unless="${content != null}">
	      <p class="text-muted">Contenido</p>
	    </th:block>
	  </div>
	</main>
    <!-- End Content -->

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="text-center">Copyright Â© 2025 Ingenieria de SoftwareII</div>
        </div>
    </footer>
    <!-- End Footer -->
	
	<!-- JS -->
	<script th:src="@{/assets/js/jquery.min.js}"></script>
	<script th:src="@{/assets/js/popper.min.js}"></script>
	<script th:src="@{/assets/js/bootstrap.min.js}"></script>
	<script th:src="@{/assets/js/sidebar-menu.js}"></script>
	<script th:src="@{/assets/js/app-script.js}"></script>

</div> <!-- End wrapper -->

</body>
</html>
