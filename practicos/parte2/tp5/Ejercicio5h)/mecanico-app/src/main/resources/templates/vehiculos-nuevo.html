<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layout :: layout('Registrar vehículo', ~{::section})}">
<section class="row justify-content-center">
    <div class="col-lg-8">
        <h1 class="h3 mb-4">Registrar un nuevo vehículo</h1>
        <div class="card shadow-sm">
            <div class="card-body">
                <form th:action="@{/vehiculos}" th:object="${vehiculoForm}" method="post" novalidate>
                    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                    <div class="row g-3">
                        <div class="col-md-4">
                            <label for="patente" class="form-label">Patente</label>
                            <input id="patente" type="text" maxlength="10" class="form-control"
                                   th:field="*{patente}" placeholder="AA123BB"
                                   th:classappend="${#fields.hasErrors('patente')}? 'is-invalid'">
                            <div class="invalid-feedback" th:if="${#fields.hasErrors('patente')}"
                                 th:errors="*{patente}">Requerido</div>
                        </div>
                        <div class="col-md-4">
                            <label for="marca" class="form-label">Marca</label>
                            <input id="marca" type="text" class="form-control" th:field="*{marca}"
                                   placeholder="Ej: Toyota"
                                   th:classappend="${#fields.hasErrors('marca')}? 'is-invalid'">
                            <div class="invalid-feedback" th:if="${#fields.hasErrors('marca')}"
                                 th:errors="*{marca}">Requerido</div>
                        </div>
                        <div class="col-md-4">
                            <label for="modelo" class="form-label">Modelo</label>
                            <input id="modelo" type="text" class="form-control" th:field="*{modelo}"
                                   placeholder="Ej: Corolla"
                                   th:classappend="${#fields.hasErrors('modelo')}? 'is-invalid'">
                            <div class="invalid-feedback" th:if="${#fields.hasErrors('modelo')}"
                                 th:errors="*{modelo}">Requerido</div>
                        </div>
                        <div class="col-12">
                            <label for="clienteId" class="form-label">Cliente</label>
                            <select id="clienteId" class="form-select" th:field="*{clienteId}"
                                    th:classappend="${#fields.hasErrors('clienteId')}? 'is-invalid'">
                                <option value="" disabled th:selected="${vehiculoForm.clienteId == null}">Seleccione un cliente
                                </option>
                                <option th:each="cliente : ${clientes}"
                                        th:value="${cliente.id}"
                                        th:text="${cliente.nombre + ' ' + cliente.apellido + ' (' + cliente.documento + ')'}">
                                    Cliente
                                </option>
                            </select>
                            <div class="invalid-feedback" th:if="${#fields.hasErrors('clienteId')}"
                                 th:errors="*{clienteId}">Seleccione un cliente</div>
                        </div>
                    </div>
                    <div class="d-flex justify-content-end gap-2 mt-4">
                        <a class="btn btn-outline-secondary" th:href="@{/}">Cancelar</a>
                        <button type="submit" class="btn btn-primary">Guardar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>
</html>
