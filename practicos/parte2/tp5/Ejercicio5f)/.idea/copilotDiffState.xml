<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/src/main/resources/templates/books/register.html">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/resources/templates/books/register.html" />
              <option name="originalContent" value="&lt;!DOCTYPE html&gt;&#10;&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;&#10;&lt;head&gt;&#10;  &lt;meta charset=&quot;utf-8&quot;/&gt;&#10;  &lt;meta content=&quot;width=device-width, initial-scale=1&quot; name=&quot;viewport&quot;&gt;&#10;  &lt;title&gt;Register Book - Library System&lt;/title&gt;&#10;  &lt;link crossorigin=&quot;anonymous&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css&quot;&#10;        rel=&quot;stylesheet&quot;&gt;&#10;  &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css&quot; rel=&quot;stylesheet&quot;&gt;&#10;  &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/css/style.css}&quot;&gt;&#10;&lt;/head&gt;&#10;&lt;body&gt;&#10;&lt;!-- Navigation Bar --&gt;&#10;&lt;nav class=&quot;navbar navbar-expand-lg navbar-dark&quot;&gt;&#10;  &lt;div class=&quot;container&quot;&gt;&#10;    &lt;a class=&quot;navbar-brand&quot; href=&quot;/&quot;&gt;&#10;      &lt;i class=&quot;bi bi-book me-2&quot;&gt;&lt;/i&gt;Library System&#10;    &lt;/a&gt;&#10;    &lt;div class=&quot;ms-auto&quot;&gt;&#10;      &lt;a class=&quot;btn btn-light btn-sm&quot; href=&quot;/books&quot;&gt;&#10;        &lt;i class=&quot;bi bi-arrow-left me-1&quot;&gt;&lt;/i&gt;Back to Books&#10;      &lt;/a&gt;&#10;    &lt;/div&gt;&#10;  &lt;/div&gt;&#10;&lt;/nav&gt;&#10;&#10;&lt;div class=&quot;content-wrapper&quot;&gt;&#10;  &lt;div class=&quot;container&quot;&gt;&#10;    &lt;!-- Page Header --&gt;&#10;    &lt;div class=&quot;page-header&quot;&gt;&#10;      &lt;h1&gt;&#10;        &lt;i class=&quot;bi bi-stars me-2&quot;&gt;&lt;/i&gt;Register Book (Facade Pattern)&#10;      &lt;/h1&gt;&#10;      &lt;nav aria-label=&quot;breadcrumb&quot;&gt;&#10;        &lt;ol class=&quot;breadcrumb&quot;&gt;&#10;          &lt;li class=&quot;breadcrumb-item&quot;&gt;&lt;a href=&quot;/&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;&#10;          &lt;li class=&quot;breadcrumb-item&quot;&gt;&lt;a href=&quot;/books&quot;&gt;Books&lt;/a&gt;&lt;/li&gt;&#10;          &lt;li class=&quot;breadcrumb-item active&quot;&gt;Register&lt;/li&gt;&#10;        &lt;/ol&gt;&#10;      &lt;/nav&gt;&#10;    &lt;/div&gt;&#10;&#10;    &lt;!-- Pattern Info --&gt;&#10;    &lt;div class=&quot;alert alert-info&quot; role=&quot;alert&quot;&gt;&#10;      &lt;i class=&quot;bi bi-info-circle me-2&quot;&gt;&lt;/i&gt;&#10;      &lt;strong&gt;Facade Pattern Demo:&lt;/strong&gt; This form demonstrates the Facade Pattern by simplifying the complex process&#10;      of creating a book with multiple authors and publishers into a single operation.&#10;    &lt;/div&gt;&#10;&#10;    &lt;!-- Form --&gt;&#10;    &lt;div class=&quot;form-container&quot;&gt;&#10;      &lt;form class=&quot;needs-validation&quot; method=&quot;post&quot; novalidate th:action=&quot;@{/books/register}&quot; th:object=&quot;${request}&quot;&gt;&#10;&#10;        &lt;div class=&quot;row&quot;&gt;&#10;          &lt;!-- Title --&gt;&#10;          &lt;div class=&quot;col-md-6 mb-3&quot;&gt;&#10;            &lt;label class=&quot;form-label&quot; for=&quot;title&quot;&gt;&#10;              &lt;i class=&quot;bi bi-bookmark me-1&quot;&gt;&lt;/i&gt;Book Title *&#10;            &lt;/label&gt;&#10;            &lt;input class=&quot;form-control&quot; id=&quot;title&quot; placeholder=&quot;Enter book title&quot; required th:field=&quot;*{title}&quot; type=&quot;text&quot;/&gt;&#10;            &lt;div class=&quot;invalid-feedback&quot;&gt;&#10;              Please enter a book title.&#10;            &lt;/div&gt;&#10;          &lt;/div&gt;&#10;&#10;          &lt;!-- ISBN --&gt;&#10;          &lt;div class=&quot;col-md-6 mb-3&quot;&gt;&#10;            &lt;label class=&quot;form-label&quot; for=&quot;isbn&quot;&gt;&#10;              &lt;i class=&quot;bi bi-upc me-1&quot;&gt;&lt;/i&gt;ISBN *&#10;            &lt;/label&gt;&#10;            &lt;input class=&quot;form-control&quot; id=&quot;isbn&quot; placeholder=&quot;e.g., 978-0132350884&quot; required th:field=&quot;*{isbn}&quot; type=&quot;text&quot;/&gt;&#10;            &lt;div class=&quot;invalid-feedback&quot;&gt;&#10;              Please enter an ISBN.&#10;            &lt;/div&gt;&#10;          &lt;/div&gt;&#10;        &lt;/div&gt;&#10;&#10;        &lt;div class=&quot;row&quot;&gt;&#10;          &lt;!-- Total Copies --&gt;&#10;          &lt;div class=&quot;col-md-6 mb-3&quot;&gt;&#10;            &lt;label class=&quot;form-label&quot; for=&quot;totalCopies&quot;&gt;&#10;              &lt;i class=&quot;bi bi-stack me-1&quot;&gt;&lt;/i&gt;Total Copies&#10;            &lt;/label&gt;&#10;            &lt;input class=&quot;form-control&quot; id=&quot;totalCopies&quot; min=&quot;0&quot; placeholder=&quot;1&quot; th:field=&quot;*{totalCopies}&quot; type=&quot;number&quot; value=&quot;1&quot;/&gt;&#10;            &lt;small class=&quot;form-text text-muted&quot;&gt;Number of copies available in the library.&lt;/small&gt;&#10;          &lt;/div&gt;&#10;&#10;          &lt;!-- Image Path --&gt;&#10;          &lt;div class=&quot;col-md-6 mb-3&quot;&gt;&#10;            &lt;label class=&quot;form-label&quot; for=&quot;imagePath&quot;&gt;&#10;              &lt;i class=&quot;bi bi-image me-1&quot;&gt;&lt;/i&gt;Image Path (Optional)&#10;            &lt;/label&gt;&#10;            &lt;input class=&quot;form-control&quot; id=&quot;imagePath&quot; placeholder=&quot;e.g., /uploads/books/image.jpg&quot; th:field=&quot;*{imagePath}&quot; type=&quot;text&quot;/&gt;&#10;            &lt;small class=&quot;form-text text-muted&quot;&gt;Path to book cover image.&lt;/small&gt;&#10;          &lt;/div&gt;&#10;        &lt;/div&gt;&#10;&#10;        &lt;div class=&quot;row&quot;&gt;&#10;          &lt;!-- Authors --&gt;&#10;          &lt;div class=&quot;col-md-6 mb-3&quot;&gt;&#10;            &lt;label class=&quot;form-label&quot; for=&quot;authors&quot;&gt;&#10;              &lt;i class=&quot;bi bi-person me-1&quot;&gt;&lt;/i&gt;Authors&#10;            &lt;/label&gt;&#10;            &lt;textarea class=&quot;form-control&quot; id=&quot;authors&quot; rows=&quot;4&quot; placeholder=&quot;Enter author names, one per line&quot;&gt;&lt;/textarea&gt;&#10;            &lt;small class=&quot;form-text text-muted&quot;&gt;Example: Robert C. Martin&lt;/small&gt;&#10;          &lt;/div&gt;&#10;&#10;          &lt;!-- Publishers --&gt;&#10;          &lt;div class=&quot;col-md-6 mb-3&quot;&gt;&#10;            &lt;label class=&quot;form-label&quot; for=&quot;publishers&quot;&gt;&#10;              &lt;i class=&quot;bi bi-building me-1&quot;&gt;&lt;/i&gt;Publishers&#10;            &lt;/label&gt;&#10;            &lt;textarea class=&quot;form-control&quot; id=&quot;publishers&quot; rows=&quot;4&quot; placeholder=&quot;Enter publisher names, one per line&quot;&gt;&lt;/textarea&gt;&#10;            &lt;small class=&quot;form-text text-muted&quot;&gt;Example: Prentice Hall&lt;/small&gt;&#10;          &lt;/div&gt;&#10;        &lt;/div&gt;&#10;&#10;        &lt;!-- Action Buttons --&gt;&#10;        &lt;div class=&quot;d-flex gap-2 mt-4&quot;&gt;&#10;          &lt;button class=&quot;btn btn-success&quot; type=&quot;submit&quot;&gt;&#10;            &lt;i class=&quot;bi bi-stars me-2&quot;&gt;&lt;/i&gt;Register Book (Facade)&#10;          &lt;/button&gt;&#10;          &lt;a class=&quot;btn btn-secondary&quot; href=&quot;/books&quot;&gt;&#10;            &lt;i class=&quot;bi bi-x-circle me-2&quot;&gt;&lt;/i&gt;Cancel&#10;          &lt;/a&gt;&#10;        &lt;/div&gt;&#10;      &lt;/form&gt;&#10;    &lt;/div&gt;&#10;  &lt;/div&gt;&#10;&lt;/div&gt;&#10;&#10;&lt;script crossorigin=&quot;anonymous&quot;&#10;        src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;&#10;&lt;script th:src=&quot;@{/js/main.js}&quot;&gt;&lt;/script&gt;&#10;&lt;script&gt;&#10;    // Convert textarea input to hidden fields for proper form submission&#10;    document.querySelector('form').addEventListener('submit', function(e) {&#10;        e.preventDefault();&#10;&#10;        const form = this;&#10;        const authorsText = document.getElementById('authors').value;&#10;        const publishersText = document.getElementById('publishers').value;&#10;&#10;        // Clear existing hidden fields&#10;        form.querySelectorAll('input[name^=&quot;authorNames&quot;]').forEach(el =&gt; el.remove());&#10;        form.querySelectorAll('input[name^=&quot;publisherNames&quot;]').forEach(el =&gt; el.remove());&#10;&#10;        // Add authors&#10;        authorsText.split('\n').forEach((author, index) =&gt; {&#10;            if (author.trim()) {&#10;                const input = document.createElement('input');&#10;                input.type = 'hidden';&#10;                input.name = 'authorNames[' + index + ']';&#10;                input.value = author.trim();&#10;                form.appendChild(input);&#10;            }&#10;        });&#10;&#10;        // Add publishers&#10;        publishersText.split('\n').forEach((publisher, index) =&gt; {&#10;            if (publisher.trim()) {&#10;                const input = document.createElement('input');&#10;                input.type = 'hidden';&#10;                input.name = 'publisherNames[' + index + ']';&#10;                input.value = publisher.trim();&#10;                form.appendChild(input);&#10;            }&#10;        });&#10;&#10;        form.submit();&#10;    });&#10;&lt;/script&gt;&#10;&lt;/body&gt;&#10;&lt;/html&gt;&#10;&#10;" />
              <option name="updatedContent" value="&lt;!DOCTYPE html&gt;&#10;&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;&#10;&lt;head&gt;&#10;  &lt;meta charset=&quot;utf-8&quot;/&gt;&#10;  &lt;meta content=&quot;width=device-width, initial-scale=1&quot; name=&quot;viewport&quot;&gt;&#10;  &lt;title&gt;Register Book - Library System&lt;/title&gt;&#10;  &lt;link crossorigin=&quot;anonymous&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css&quot;&#10;        rel=&quot;stylesheet&quot;&gt;&#10;  &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css&quot; rel=&quot;stylesheet&quot;&gt;&#10;  &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/css/style.css}&quot;&gt;&#10;&lt;/head&gt;&#10;&lt;body&gt;&#10;&lt;!-- Navigation Bar --&gt;&#10;&lt;nav class=&quot;navbar navbar-expand-lg navbar-dark&quot;&gt;&#10;  &lt;div class=&quot;container&quot;&gt;&#10;    &lt;a class=&quot;navbar-brand&quot; href=&quot;/&quot;&gt;&#10;      &lt;i class=&quot;bi bi-book me-2&quot;&gt;&lt;/i&gt;Library System&#10;    &lt;/a&gt;&#10;    &lt;div class=&quot;ms-auto&quot;&gt;&#10;      &lt;a class=&quot;btn btn-light btn-sm&quot; href=&quot;/books&quot;&gt;&#10;        &lt;i class=&quot;bi bi-arrow-left me-1&quot;&gt;&lt;/i&gt;Back to Books&#10;      &lt;/a&gt;&#10;    &lt;/div&gt;&#10;  &lt;/div&gt;&#10;&lt;/nav&gt;&#10;&#10;&lt;div class=&quot;content-wrapper&quot;&gt;&#10;  &lt;div class=&quot;container&quot;&gt;&#10;    &lt;!-- Page Header --&gt;&#10;    &lt;div class=&quot;page-header&quot;&gt;&#10;      &lt;h1&gt;&#10;        &lt;i class=&quot;bi bi-stars me-2&quot;&gt;&lt;/i&gt;Register Book (Facade Pattern)&#10;      &lt;/h1&gt;&#10;      &lt;nav aria-label=&quot;breadcrumb&quot;&gt;&#10;        &lt;ol class=&quot;breadcrumb&quot;&gt;&#10;          &lt;li class=&quot;breadcrumb-item&quot;&gt;&lt;a href=&quot;/&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;&#10;          &lt;li class=&quot;breadcrumb-item&quot;&gt;&lt;a href=&quot;/books&quot;&gt;Books&lt;/a&gt;&lt;/li&gt;&#10;          &lt;li class=&quot;breadcrumb-item active&quot;&gt;Register&lt;/li&gt;&#10;        &lt;/ol&gt;&#10;      &lt;/nav&gt;&#10;    &lt;/div&gt;&#10;&#10;    &lt;!-- Pattern Info --&gt;&#10;    &lt;div class=&quot;alert alert-info&quot; role=&quot;alert&quot;&gt;&#10;      &lt;i class=&quot;bi bi-info-circle me-2&quot;&gt;&lt;/i&gt;&#10;      &lt;strong&gt;Facade Pattern Demo:&lt;/strong&gt; This form demonstrates the Facade Pattern by simplifying the complex process&#10;      of creating a book with multiple authors and publishers into a single operation.&#10;    &lt;/div&gt;&#10;&#10;    &lt;!-- Form --&gt;&#10;    &lt;div class=&quot;form-container&quot;&gt;&#10;      &lt;form class=&quot;needs-validation&quot; method=&quot;post&quot; novalidate th:action=&quot;@{/books/register}&quot; th:object=&quot;${request}&quot; enctype=&quot;multipart/form-data&quot;&gt;&#10;&#10;        &lt;div class=&quot;row&quot;&gt;&#10;          &lt;!-- Title --&gt;&#10;          &lt;div class=&quot;col-md-6 mb-3&quot;&gt;&#10;            &lt;label class=&quot;form-label&quot; for=&quot;title&quot;&gt;&#10;              &lt;i class=&quot;bi bi-bookmark me-1&quot;&gt;&lt;/i&gt;Book Title *&#10;            &lt;/label&gt;&#10;            &lt;input class=&quot;form-control&quot; id=&quot;title&quot; placeholder=&quot;Enter book title&quot; required th:field=&quot;*{title}&quot; type=&quot;text&quot;/&gt;&#10;            &lt;div class=&quot;invalid-feedback&quot;&gt;&#10;              Please enter a book title.&#10;            &lt;/div&gt;&#10;          &lt;/div&gt;&#10;&#10;          &lt;!-- ISBN --&gt;&#10;          &lt;div class=&quot;col-md-6 mb-3&quot;&gt;&#10;            &lt;label class=&quot;form-label&quot; for=&quot;isbn&quot;&gt;&#10;              &lt;i class=&quot;bi bi-upc me-1&quot;&gt;&lt;/i&gt;ISBN *&#10;            &lt;/label&gt;&#10;            &lt;input class=&quot;form-control&quot; id=&quot;isbn&quot; placeholder=&quot;e.g., 978-0132350884&quot; required th:field=&quot;*{isbn}&quot; type=&quot;text&quot;/&gt;&#10;            &lt;div class=&quot;invalid-feedback&quot;&gt;&#10;              Please enter an ISBN.&#10;            &lt;/div&gt;&#10;          &lt;/div&gt;&#10;        &lt;/div&gt;&#10;&#10;        &lt;div class=&quot;row&quot;&gt;&#10;          &lt;!-- Total Copies --&gt;&#10;          &lt;div class=&quot;col-md-6 mb-3&quot;&gt;&#10;            &lt;label class=&quot;form-label&quot; for=&quot;totalCopies&quot;&gt;&#10;              &lt;i class=&quot;bi bi-stack me-1&quot;&gt;&lt;/i&gt;Total Copies&#10;            &lt;/label&gt;&#10;            &lt;input class=&quot;form-control&quot; id=&quot;totalCopies&quot; min=&quot;0&quot; placeholder=&quot;1&quot; th:field=&quot;*{totalCopies}&quot; type=&quot;number&quot; value=&quot;1&quot;/&gt;&#10;            &lt;small class=&quot;form-text text-muted&quot;&gt;Number of copies available in the library.&lt;/small&gt;&#10;          &lt;/div&gt;&#10;&#10;          &lt;!-- Image Upload --&gt;&#10;          &lt;div class=&quot;col-md-6 mb-3&quot;&gt;&#10;            &lt;label class=&quot;form-label&quot; for=&quot;imageFile&quot;&gt;&#10;              &lt;i class=&quot;bi bi-image me-1&quot;&gt;&lt;/i&gt;Cover Image&#10;            &lt;/label&gt;&#10;            &lt;input accept=&quot;image/*&quot; class=&quot;form-control&quot; id=&quot;imageFile&quot; name=&quot;imageFile&quot; type=&quot;file&quot;/&gt;&#10;            &lt;small class=&quot;form-text text-muted&quot;&gt;Optional. Upload a cover image for the book.&lt;/small&gt;&#10;          &lt;/div&gt;&#10;        &lt;/div&gt;&#10;&#10;        &lt;div class=&quot;row&quot;&gt;&#10;          &lt;!-- Authors Selector --&gt;&#10;          &lt;div class=&quot;col-md-6 mb-3&quot;&gt;&#10;            &lt;label class=&quot;form-label&quot; for=&quot;selectedAuthors&quot;&gt;&#10;              &lt;i class=&quot;bi bi-person me-1&quot;&gt;&lt;/i&gt;Authors&#10;            &lt;/label&gt;&#10;            &lt;select class=&quot;form-select&quot; id=&quot;selectedAuthors&quot; name=&quot;selectedAuthors&quot; multiple size=&quot;6&quot;&gt;&#10;              &lt;option th:each=&quot;author : ${allAuthors}&quot; &#10;                      th:value=&quot;${author.name}&quot; &#10;                      th:text=&quot;${author.name}&quot;&gt;Author Name&lt;/option&gt;&#10;            &lt;/select&gt;&#10;            &lt;small class=&quot;form-text text-muted&quot;&gt;Hold Ctrl/Cmd to select multiple authors&lt;/small&gt;&#10;          &lt;/div&gt;&#10;&#10;          &lt;!-- Publishers Selector --&gt;&#10;          &lt;div class=&quot;col-md-6 mb-3&quot;&gt;&#10;            &lt;label class=&quot;form-label&quot; for=&quot;selectedPublishers&quot;&gt;&#10;              &lt;i class=&quot;bi bi-building me-1&quot;&gt;&lt;/i&gt;Publishers&#10;            &lt;/label&gt;&#10;            &lt;select class=&quot;form-select&quot; id=&quot;selectedPublishers&quot; name=&quot;selectedPublishers&quot; multiple size=&quot;6&quot;&gt;&#10;              &lt;option th:each=&quot;publisher : ${allPublishers}&quot; &#10;                      th:value=&quot;${publisher.name}&quot; &#10;                      th:text=&quot;${publisher.name}&quot;&gt;Publisher Name&lt;/option&gt;&#10;            &lt;/select&gt;&#10;            &lt;small class=&quot;form-text text-muted&quot;&gt;Hold Ctrl/Cmd to select multiple publishers&lt;/small&gt;&#10;          &lt;/div&gt;&#10;        &lt;/div&gt;&#10;&#10;        &lt;!-- Add new authors/publishers section --&gt;&#10;        &lt;div class=&quot;row&quot;&gt;&#10;          &lt;div class=&quot;col-md-6 mb-3&quot;&gt;&#10;            &lt;label class=&quot;form-label&quot; for=&quot;newAuthors&quot;&gt;&#10;              &lt;i class=&quot;bi bi-person-plus me-1&quot;&gt;&lt;/i&gt;Add New Authors&#10;            &lt;/label&gt;&#10;            &lt;textarea class=&quot;form-control&quot; id=&quot;newAuthors&quot; rows=&quot;3&quot; placeholder=&quot;Enter new author names, one per line&quot;&gt;&lt;/textarea&gt;&#10;            &lt;small class=&quot;form-text text-muted&quot;&gt;Authors not in the list above&lt;/small&gt;&#10;          &lt;/div&gt;&#10;&#10;          &lt;div class=&quot;col-md-6 mb-3&quot;&gt;&#10;            &lt;label class=&quot;form-label&quot; for=&quot;newPublishers&quot;&gt;&#10;              &lt;i class=&quot;bi bi-building-add me-1&quot;&gt;&lt;/i&gt;Add New Publishers&#10;            &lt;/label&gt;&#10;            &lt;textarea class=&quot;form-control&quot; id=&quot;newPublishers&quot; rows=&quot;3&quot; placeholder=&quot;Enter new publisher names, one per line&quot;&gt;&lt;/textarea&gt;&#10;            &lt;small class=&quot;form-text text-muted&quot;&gt;Publishers not in the list above&lt;/small&gt;&#10;          &lt;/div&gt;&#10;        &lt;/div&gt;&#10;&#10;        &lt;!-- Action Buttons --&gt;&#10;        &lt;div class=&quot;d-flex gap-2 mt-4&quot;&gt;&#10;          &lt;button class=&quot;btn btn-success&quot; type=&quot;submit&quot;&gt;&#10;            &lt;i class=&quot;bi bi-stars me-2&quot;&gt;&lt;/i&gt;Register Book (Facade)&#10;          &lt;/button&gt;&#10;          &lt;a class=&quot;btn btn-secondary&quot; href=&quot;/books&quot;&gt;&#10;            &lt;i class=&quot;bi bi-x-circle me-2&quot;&gt;&lt;/i&gt;Cancel&#10;          &lt;/a&gt;&#10;        &lt;/div&gt;&#10;      &lt;/form&gt;&#10;    &lt;/div&gt;&#10;  &lt;/div&gt;&#10;&lt;/div&gt;&#10;&#10;&lt;script crossorigin=&quot;anonymous&quot;&#10;        src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;&#10;&lt;script th:src=&quot;@{/js/main.js}&quot;&gt;&lt;/script&gt;&#10;&lt;script&gt;&#10;    // Handle form submission with new authors/publishers from text areas&#10;    document.querySelector('form').addEventListener('submit', function(e) {&#10;        const newAuthorsText = document.getElementById('newAuthors').value;&#10;        const newPublishersText = document.getElementById('newPublishers').value;&#10;        &#10;        // Get selected authors and publishers&#10;        const selectedAuthorsSelect = document.getElementById('selectedAuthors');&#10;        const selectedPublishersSelect = document.getElementById('selectedPublishers');&#10;        &#10;        // Add new authors to the selected list&#10;        if (newAuthorsText.trim()) {&#10;            newAuthorsText.split('\n').forEach(author =&gt; {&#10;                if (author.trim()) {&#10;                    const option = document.createElement('option');&#10;                    option.value = author.trim();&#10;                    option.text = author.trim();&#10;                    option.selected = true;&#10;                    selectedAuthorsSelect.appendChild(option);&#10;                }&#10;            });&#10;        }&#10;        &#10;        // Add new publishers to the selected list&#10;        if (newPublishersText.trim()) {&#10;            newPublishersText.split('\n').forEach(publisher =&gt; {&#10;                if (publisher.trim()) {&#10;                    const option = document.createElement('option');&#10;                    option.value = publisher.trim();&#10;                    option.text = publisher.trim();&#10;                    option.selected = true;&#10;                    selectedPublishersSelect.appendChild(option);&#10;                }&#10;            });&#10;        }&#10;        &#10;        // Ensure all selected options are actually selected for form submission&#10;        Array.from(selectedAuthorsSelect.options).forEach(option =&gt; {&#10;            if (option.selected) option.selected = true;&#10;        });&#10;        &#10;        Array.from(selectedPublishersSelect.options).forEach(option =&gt; {&#10;            if (option.selected) option.selected = true;&#10;        });&#10;        &#10;        // Form will submit normally with multipart data&#10;    });&#10;&lt;/script&gt;&#10;&lt;/body&gt;&#10;&lt;/html&gt;&#10;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>